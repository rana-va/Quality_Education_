<!-- 加载编辑器的容器 -->
@*<script id="container" name="content" type="text/plain">
        这里写你的初始化内容
</script>*@
<script src="../../ueditor/ueditor.config.js"></script>
<script src="../../ueditor/ueditor.all.js"></script>
<script src="../../ueditor/lang/zh-cn/zh-cn.js"></script>

<div style="margin-top:10px;">
<script type="text/plain" id="topicEditor" style=" height: 240px;">
</script></div>
<a href="#" id="publish" class="btn btn-block btn-lg btn-primary" style="width:100px;">发表</a>
<script type="text/javascript">
    //实例化编辑器
    var ue = UE.getEditor('topicEditor', {
        toolbars: [
            ['source', 'undo', 'redo', 'snapscreen', 'emotion', 'simpleupload']
        ],
        //imagePathFormat: "/UEditor/imageUp",
        autoHeightEnabled: true,
        autoFloatEnabled: true
    });
    ue.addListener('blur', function () {
        $('#focush2').html('编辑器失去焦点了')
    });
    ue.addListener('focus', function () {
        $('#focush2').html('')
    });
    //按钮的操作
    function insertHtml() {
        var value = prompt('插入html代码', '');
        ue.execCommand('insertHtml', value)
    }
    function isFocus() {
        alert(ue.isFocus())
    }
    function doBlur() {
        ue.blur()
    }
    function createEditor() {
        enableBtn();
        ue = UE.getEditor('topicEditor');
    }
    function getAllHtml() {
        alert(UE.getEditor('topicEditor').getAllHtml())
    }
    function getContent() {
        var arr = [];
        arr.push("使用editor.getContent()方法可以获得编辑器的内容");
        arr.push("内容为：");
        arr.push(UE.getEditor('topicEditor').getContent());
        alert(arr.join("\n"));
    }
    function getPlainTxt() {
        var arr = [];
        arr.push("使用editor.getPlainTxt()方法可以获得编辑器的带格式的纯文本内容");
        arr.push("内容为：");
        arr.push(UE.getEditor('topicEditor').getPlainTxt());
        alert(arr.join('\n'))
    }
    function setContent(isAppendTo) {
        var arr = [];
        arr.push("使用editor.setContent('欢迎使用umeditor')方法可以设置编辑器的内容");
        UE.getEditor('topicEditor').setContent('欢迎使用umeditor', isAppendTo);
        alert(arr.join("\n"));
    }

    //$("#publish").click(function () {
    //    var title = $("#title").val();
    //    if (title == "") {
    //        alert("标题不能为空！");
    //        return;
    //    }
    //    if (!UE.getEditor('topicEditor').hasContents()) {
    //        alert("内容不能为空！");
    //        return;
    //    }
    //    var content = UE.getEditor('topicEditor').getContent();

    //    content = escape(content);
    //    $.ajax({
    //        type: "POST",
    //        url: '/Topic/SaveTopic',
    //        data: { title: title, content: content },
    //        success: function (data) {
    //            if (data.toLowerCase() == "true") {
    //                alert("发表成功！");
    //                location.reload();
    //            } else {
    //                alert("请登录后发帖！");
    //            }
    //        },
    //        error: function () {
    //            alert("发表失败！");
    //        }
    //    });
    });
</script>
